{% extends "base.html" %}

{% block content %}
<div class="flex justify-around">
    <div>
        <p>Páginas de interés:</p>
    </div>
    <div class="justify-center">
        {% if user.current_sms < user.max_sms %}
        <H2 class="font-bold text-xl mt-4">IETI Message Center</H2>
        <p class="mb-5">Bienvenido, {{user}}, te quedan <b>{{ remain_sms }}</b> de un total de <b>{{ user.max_sms }}</b> mensajes por mandar el día de hoy.</p>
        <form class="font-bold" method="POST" action="">
            {% csrf_token %}
            {{ form.as_p }}
            <button  class=" font-bold rounded-lg p-0.5 bg-white text-blue-800 mt-2 mb-10" type="submit">Enviar SMS</button>
        </form>
        {% else %}
            <p>{{user}}, ya no te quedan más mensajes por hoy. Alcanzaste tu límite, {{ user.max_sms }}</p>>
        {% endif %}
    </div>
    {% if user.is_staff or user.is_superuser %}
        <div>
            <button onclick="location.href='/createuser'">Crear usuario</button>
        </div>
        
    {% endif %}
</div>
<script>
    function validateLength(input) {
      var maxLength = 10; // Longitud requerida
      var value = input.value.trim(); // Obtener el valor y eliminar espacios en blanco
    
      if (value.length !== maxLength) {
        input.setCustomValidity("El campo debe tener una longitud de " + maxLength + " caracteres.");
      } else {
        input.setCustomValidity(""); // Restablecer mensaje de error personalizado
      }
    }
    </script>
{% endblock %}